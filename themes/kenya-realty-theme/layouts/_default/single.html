{{ define "main" }}
<article class="container property-detail">
    <h1>{{ .Title }}</h1>
    <div class="price-big">{{ .Params.price }}</div>
    <div class="location-big">{{ .Params.location }}</div>

    <div class="image-gallery">
        {{ range .Resources.Match "*.{jpg,jpeg,png}" }}
        {{ $image := .Resize "1200x" }}
        <img src="{{ $image.RelPermalink }}" alt="{{ $.Title }}">
        {{ end }}
    </div>

    <div class="specs-grid">
        <div class="spec-item"><strong>Type:</strong> {{ .Params.propertyType }}</div>
        <div class="spec-item"><strong>Status:</strong> {{ .Params.status }}</div>
        <div class="spec-item"><strong>Area:</strong> {{ .Params.area }}</div>
        <div class="spec-item"><strong>Bedrooms:</strong> {{ .Params.bedrooms }}</div>
        <div class="spec-item"><strong>Bathrooms:</strong> {{ .Params.bathrooms }}</div>
    </div>

    <div class="property-description">
        {{ .Content }}
    </div>

    <div class="property-sidebar">
        {{ with .Site.GetPage "agents/main-agent.md" }}
        <div class="agent-card"
            style="border: 1px solid #ddd; padding: 1.5rem; margin-top: 2rem; border-radius: 8px; display: flex; gap: 1rem; align-items: center;">
            <img src="{{ .Params.photo }}" alt="{{ .Params.name }}"
                style="width: 80px; height: 80px; border-radius: 50%; object-fit: cover;">
            <div>
                <h4>{{ .Params.name }}</h4>
                <p style="font-size: 0.8rem; margin: 0;">{{ .Params.bio }}</p>
                <p style="font-weight: bold; margin: 5px 0 0 0;">{{ .Params.phone }}</p>
            </div>
        </div>
        {{ end }}

        {{ partial "inquiry_form.html" . }}
    </div>
</article>
{{ end }}