{{ define "main" }}
<section class="hero">
    <div class="container hero-content">
        <h1>Find Your Dream Property in Kenya</h1>
        <p>Premium listings in Kahawa Wendani, Ruiru, Westlands, and beyond.</p>
        <div class="cta-buttons">
            <a href="/properties/" class="btn">Browse Properties</a>
            <a href="/contact/" class="btn btn-alt">Book a Viewing</a>
        </div>
    </div>
</section>

<section class="featured-properties container">
    <h2>Featured Properties</h2>
    <div class="property-grid">
        {{ range (where .Site.RegularPages "Params.featured" true) | first 6 }}
        <div class="property-card">
            {{ $img := .Resources.GetMatch "img1.*" }}
            {{ if $img }}
            {{ $thumb := $img.Fill "600x400" }}
            <div class="card-image">
                <img src="{{ $thumb.RelPermalink }}" alt="{{ .Title }}">
            </div>
            {{ else }}
            <div class="card-image"
                style="background: #eee; height: 200px; display: flex; align-items: center; justify-content: center;">
                No Image
            </div>
            {{ end }}
            <div class="card-body">
                <div class="price">{{ .Params.price }}</div>
                <h3><a href="{{ .Permalink }}">{{ .Title }}</a></h3>
                <div class="location">ğŸ“Œ {{ .Params.location }}</div>
                <div class="specs">
                    <span>ğŸ›ï¸ {{ .Params.bedrooms }} Bed</span>
                    <span>ğŸ› {{ .Params.bathrooms }} Bath</span>
                </div>
                <a href="{{ .Permalink }}" class="btn-sm">View Details</a>
            </div>
        </div>
        {{ end }}
    </div>
</section>

<section class="agent-intro" style="background: #f9f9f9; padding: 4rem 0;">
    <div class="container agent-content" style="display: flex; align-items: center; gap: 2rem;">
        {{ with .Site.GetPage "agents/main-agent.md" }}
        <div class="agent-photo">
            <img src="{{ .Params.photo }}" alt="{{ .Params.name }}" style="width: 150px; border-radius: 50%;">
        </div>
        <div class="agent-info">
            <h2>{{ .Params.name }}</h2>
            <p>{{ .Params.bio }}</p>
            <p><strong>ğŸ“ {{ .Params.phone }}</strong> | <strong>âœ‰ï¸ {{ .Params.email }}</strong></p>
        </div>
        {{ end }}
    </div>
</section>

<section class="contact-section container">
    <h2>Get In Touch</h2>
    <p>Ready to see a property? Contact us today.</p>
    <a href="/contact/" class="btn">Contact Agent</a>
</section>
{{ end }}